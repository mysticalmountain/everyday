# RBAC
基于角色的访问控制，RBAC的核心思想是讲资源的访问权限进行分类或者建立层次关系，抽象为角色的概念；然后根据安全策略讲用户与角色关联，从而实现了用户和权限直接的对照。

*RBAC*模型
+ RBAC0 核心 
+ RBAC1 角色分级模型
+ RBAC2 角色限制模型
+ RBAC3 统一模型

## RBAC0
 
```
           +------+          +-------+           +------------+
           | User |----------| Role  |-----------| Permission |
           +------+          +-------+           +------------+
               \               /
                \             /
                 \           /
                  \         /
                   \       /
                    \     /
                     \   /
                      \ /
                  +---------+
                  | Session |    
                  +---------+
```

## RBAC1

```
           +------+          +-------+           +------------+
           | User |----------| Role  |-----------| Permission |
           +------+          +-------+           +------------+
               \               / |  ^
                \             /  |  |
                 \           /   |  |
                  \         /    +--+
                   \       /
                    \     /
                     \   /
                      \ /
                  +---------+
                  | Session |    
                  +---------+
```

## RBAC2 
```
                +------------+
                | Constraint |       
                +------------+
                      /\
                     /  \
                    /    \
                   /      \
                  /        \
                 /          \
                /            \
               /              \
              /                \
           +------+          +-------+           +------------+
           | User |----------| Role  |-----------| Permission |
           +------+          +-------+           +------------+
               \               /   
                \             /   
                 \           /   
                  \         /    
                   \       /
                    \     /
                     \   /
                      \ /
                  +---------+
                  | Session |    
                  +---------+
```



## RBAC3

```
                +------------+
                | Constraint |       
                +------------+
                      /\
                     /  \
                    /    \
                   /      \
                  /        \
                 /          \
                /            \
               /              \
              /                \
           +------+          +-------+           +------------+
           | User |----------| Role  |-----------| Permission |
           +------+          +-------+           +------------+
               \               / |  ^
                \             /  |  |
                 \           /   |  |
                  \         /    +--+
                   \       /
                    \     /
                     \   /
                      \ /
                  +---------+
                  | Session |    
                  +---------+
```

## 最佳实践
### 表列表
```
+---------------------------+
| Tables_in_user_permission |
+---------------------------+
| Menu                      |
| Permission                |
| Permission_Menu           |
| Role                      |
| Role_Permission           |
| seq_id                    |
+---------------------------+
```

## 表关系
```



             +------+       +-----------------+       +------------+       +-----------------+        +------+
             | Role |-------+ Role_Permission |-------+ Permission |-------+ Permission_Menu |--------+ Menu |
             +------+       +-----------------+       +------------+       +-----------------+        +------+
                                                            \ \
                                                             \ \           +----------------+         +------+
                                                              \ -----------+ Permission_xx  |---------+ xx   |
                                                               \           +----------------+         +------+
                                                                \
                                                                 \         +----------------+         +------+
                                                                  ---------+ Permission_xx  |---------+ xx   |
                                                                           +----------------+         +------+
```                                                                           




















```





